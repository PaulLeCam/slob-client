(function(){define(["core/util","core/dom","core/store"],function(e,t,n){var r,i;return i=new n,r=new n,{start:function(t,n){var s,o,u,a,f,l,c,h,p;if(t==null||n==null||t==="*"&&n==="*")return console.warn("Wrong parameters to start widget",t,n),this;if(n==="*"){if(o=i.get(t)){h=o.values();for(a=0,l=h.length;a<l;a++)u=h[a],u.start()}}else{e.isObject(n)||(n={el:n});if(s=r.get(n.el))if(t==="*"){p=s.values();for(f=0,c=p.length;f<c;f++)u=p[f],u.start()}else(u=s.get(t))?u.start():this._new(t,n);else this._new(t,n)}return this},_new:function(e,t){return require(["widgets/"+e],function(s){var o,u,a;return a=new s(t),r.has(t.el)||r.set(t.el,new n),o=r.get(t.el),o.set(e,a),i.has(e)||i.set(e,new n),u=i.get(e),u.set(t.el,a),a.start()},function(t){return console.warn("Error trying to start widget `"+e+"`",t)})},stop:function(e,t){var n,s,o,u,a,f,l,c,h;if(e==null||t==null||e==="*"&&t==="*")return console.warn("Wrong parameters to stop widget",e,t),this;if(t==="*"){if(s=i.get(e)){c=s.values();for(u=0,f=c.length;u<f;u++)o=c[u],o.stop()}}else if(n=r.get(t))if(e==="*"){h=n.values();for(a=0,l=h.length;a<l;a++)o=h[a],o.stop()}else(o=n.get(e))&&o.stop();return this},remove:function(e){var t,n,s,o,u,a;if(e==null||e==="*")return console.warn("Wrong parameters to remove widget",e),this;if(t=r.get(e)){a=t.keys();for(o=0,u=a.length;o<u;o++)n=a[o],t.get(n).remove(),(s=i.get(e))&&s["delete"](e);r["delete"](e)}else sandbox.dom.find(e).remove();return this}}})}).call(this);